servers:
  - bind_address: 127.0.0.1:3002
    routes:
      - path: /
        dir: /Users/shaneosbourne/WebstormProjects/axum/examples/reverse-proxy/fixtures/api
        cors: true
  - bind_address: 127.0.0.1:3000
    routes:
      - path: /
        html: |
          <html>
              <head>
                  <link rel="stylesheet" href="/fixtures/styles-2.css">
              </head>
              <body>
              <p class="alert">Beware of the zombies</p> 
              <script defer>
                  fetch("http://localhost:3002/2.json")
                      .then(x => x.json())
                      .then(console.log)
                      .catch(console.log)
              </script>
              <script src="/script.js"></script>
              <script src="/a-file-2"></script>
              <script src="/script.js"></script>
              <script src="/later/lol.js"></script>
              </body>
          </html>
      - path: /
        dir: /Users/shaneosbourne/WebstormProjects/axum/examples/reverse-proxy
      - path: /here
        dir: /Users/shaneosbourne/WebstormProjects/axum/examples/reverse-proxy/fixtures
      - path: /a-file
        dir: /Users/shaneosbourne/WebstormProjects/axum/examples/reverse-proxy/fixtures/app.js
      - path: /a-file-2
        dir: /Users/shaneosbourne/WebstormProjects/axum/examples/reverse-proxy/fixtures/app.js
      - path: /script.js
        raw: console.log('script.js')
      - path: /later/*.js
        raw: console.log('wildcard')
      - path: /styles.css
        raw: |
          @layer state, module;
          
          @layer state {
              .alert {
                  background-color: brown;
              }
              p {
                  border: medium solid limegreen;
              }
          }
          
          @layer module {
              .alert {
                  border: medium solid violet;
                  background-color: yellow;
                  color: white;
              }
          }

  - bind_address: 127.0.0.1:3001
    routes:
      - path: "/"
        html: hey!
      - path: /script.js
        raw: console.log(location.href)